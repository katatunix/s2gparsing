// *************************************************************************************** //
// if active: clang++.exe, if commented: g++.exe
//#define USE_CLANG

// if active: use Compile Units. if commented: compile each file one-by-one
#define USE_COMPILE_UNITS

// *************************************************************************************** //
#include "Main_Paths.bff"
#include "Compile/__Common/__Build_System.bff"

// *************************************************************************************** //
// ARM; x86
// Release; Debug
.Base_Config =
[
	.Defines = ""
	.IncludePaths = ""
	.CompileFlags = ""
							+ " -base2"
							+ " -base1"
	.CompileFlags_CPP = ""
	.CompileFlags_C = ""
	.Precompiled_SearchPaths = ""
	.Librarian = ""
	.LinkerExecutable = ""
	.ObjectCopyExecutable = ""
	.StripExecutable = ""
]

// *************************************************************************************** //
// ARM
// Release; Debug
.ARM_Config =
[
	Using(.Base_Config)
	.PlatformName = "ARM"
	.CompileFlags + ""
							+ " -flag-arm7"
	.Librarian + ""
							+ "$NDK_Root$/toolchains/arm-linux-androideabi-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-ar"
	.LinkerExecutable + ""
							+ "$NDK_Root$/toolchains/arm-linux-androideabi-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-ld"
	.ObjectCopyExecutable + ""
							+ "$NDK_Root$/toolchains/arm-linux-androideabi-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-objcopy"
	.StripExecutable + ""
							+ "$NDK_Root$/toolchains/arm-linux-androideabi-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-strip"
]

// *************************************************************************************** //
// ARM
// Release
.ARM_Release_Config =
[
	Using(.ARM_Config)
	.ConfigName = "Release"
	.CompileFlags + ""
							+ " -flag-release"
	.Precompiled_SearchPaths + ""
							+ " -L$GameRoot$/build/precompiled/release/armeabi-v7a"
	.Output_Objects = "$OutputPath$/$PlatformName$/$ConfigName$/Objects"
	.Output_StaticLibs = "$OutputPath$/$PlatformName$/$ConfigName$/StaticLibs"
	.Output_SharedLibs = "$OutputPath$/$PlatformName$/$ConfigName$/SharedLibs"
]

// *************************************************************************************** //
// ARM
// Debug
.ARM_Debug_Config =
[
	Using(.ARM_Config)
	.ConfigName = "Debug"
	.CompileFlags + ""
							+ " -flag-debug"
	.Precompiled_SearchPaths + ""
							+ " -L$GameRoot$/build/precompiled/debug/armeabi-v7a"
	.Output_Objects = "$OutputPath$/$PlatformName$/$ConfigName$/Objects"
	.Output_StaticLibs = "$OutputPath$/$PlatformName$/$ConfigName$/StaticLibs"
	.Output_SharedLibs = "$OutputPath$/$PlatformName$/$ConfigName$/SharedLibs"
]

// *************************************************************************************** //
// x86
// Release; Debug
.x86_Config =
[
	Using(.Base_Config)
	.PlatformName = "x86"
	.CompileFlags + ""
							+ " -flag-x86"
	.Librarian + ""
							+ "$NDK_Root$/toolchains/x86-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/i686-linux-android-ar"
	.LinkerExecutable + ""
							+ "$NDK_Root$/toolchains/x86-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/i686-linux-android-ld"
	.ObjectCopyExecutable + ""
							+ "$NDK_Root$/toolchains/x86-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/i686-linux-android-objcopy"
	.StripExecutable + ""
							+ "$NDK_Root$/toolchains/x86-$Clang_ToolchainVersion$/prebuilt/darwin-x86_64/bin/i686-linux-android-strip"
]

// *************************************************************************************** //
// x86
// Release
.x86_Release_Config =
[
	Using(.x86_Config)
	.ConfigName = "Release"
	.CompileFlags + ""
							+ " -flag-release-x86"
							+ " -flag-release"
	.Precompiled_SearchPaths + ""
							+ " -L$GameRoot$/build/precompiled/release/x86"
	.Output_Objects = "$OutputPath$/$PlatformName$/$ConfigName$/Objects"
	.Output_StaticLibs = "$OutputPath$/$PlatformName$/$ConfigName$/StaticLibs"
	.Output_SharedLibs = "$OutputPath$/$PlatformName$/$ConfigName$/SharedLibs"
]

// *************************************************************************************** //
// x86
// Debug
.x86_Debug_Config =
[
	Using(.x86_Config)
	.ConfigName = "Debug"
	.CompileFlags + ""
							+ " -flag-debug-x86"
	.Precompiled_SearchPaths + ""
							+ " -L$GameRoot$/build/precompiled/debug/x86"
	.Output_Objects = "$OutputPath$/$PlatformName$/$ConfigName$/Objects"
	.Output_StaticLibs = "$OutputPath$/$PlatformName$/$ConfigName$/StaticLibs"
	.Output_SharedLibs = "$OutputPath$/$PlatformName$/$ConfigName$/SharedLibs"
]

// *************************************************************************************** //
.Release_Configs =
{
	.ARM_Release_Config,
	.x86_Release_Config
}

// *************************************************************************************** //
.Debug_Configs =
{
	.ARM_Debug_Config,
	.x86_Debug_Config
}

// *************************************************************************************** //
.All_Configs =
{
	.ARM_Release_Config,
	.ARM_Debug_Config,
	.x86_Release_Config,
	.x86_Debug_Config
}
